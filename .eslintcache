[{"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\reportWebVitals.js":"1","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\App.js":"2","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\index.js":"3","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Login.jsx":"4","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Home.jsx":"5","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Layout.jsx":"6","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Navbar.jsx":"7","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\TopicElement.jsx":"8","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\UserTopics.jsx":"9","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\database\\firebase.js":"10","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Topic.jsx":"11","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\SearchBar.jsx":"12","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\ImageDropzone.jsx":"13","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\resources\\strings.js":"14","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\ReportPage.jsx":"15","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Reports.jsx":"16"},{"size":362,"mtime":1612095212246,"results":"17","hashOfConfig":"18"},{"size":1593,"mtime":1614873102237,"results":"19","hashOfConfig":"18"},{"size":546,"mtime":1612116813291,"results":"20","hashOfConfig":"18"},{"size":1336,"mtime":1614854014923,"results":"21","hashOfConfig":"18"},{"size":265,"mtime":1612783622962,"results":"22","hashOfConfig":"18"},{"size":386,"mtime":1612114022679,"results":"23","hashOfConfig":"18"},{"size":4199,"mtime":1614965730090,"results":"24","hashOfConfig":"18"},{"size":3134,"mtime":1614871897776,"results":"25","hashOfConfig":"18"},{"size":5464,"mtime":1615216066184,"results":"26","hashOfConfig":"18"},{"size":678,"mtime":1612355262595,"results":"27","hashOfConfig":"18"},{"size":5915,"mtime":1615185986483,"results":"28","hashOfConfig":"18"},{"size":562,"mtime":1614177403657,"results":"29","hashOfConfig":"18"},{"size":5735,"mtime":1614862491940,"results":"30","hashOfConfig":"18"},{"size":5094,"mtime":1615215934761,"results":"31","hashOfConfig":"18"},{"size":7667,"mtime":1615215825648,"results":"32","hashOfConfig":"18"},{"size":2111,"mtime":1615213874198,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"16ts6m3",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\reportWebVitals.js",[],["69","70"],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\App.js",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\index.js",[],["71","72"],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Login.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Home.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Layout.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Navbar.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\TopicElement.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\UserTopics.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\database\\firebase.js",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Topic.jsx",["73","74","75","76","77","78"],"import React, {useEffect, useState} from \"react\";\r\nimport {db} from \"../database/firebase\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\nimport Reports from \"./Reports\";\r\nimport CancelIcon from \"../assets/images/cancel.svg\";\r\nimport DeleteIcon from \"../assets/images/trash.svg\";\r\nimport \"../assets/css/Topic.css\";\r\nimport stringRes from \"../resources/strings\";\r\n\r\nfunction Topic(props) {\r\n\r\n    let language = process.env.REACT_APP_LANGUAGE;\r\n    let strings = stringRes[language];\r\n\r\n    const history = useHistory();\r\n    const params = useParams();\r\n\r\n    // for displaying the modal\r\n    const [modalIsOpen, setIsOpen] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const [topicExists, setTopicExists] = useState(true);\r\n    const [topicPage, setTopicPage] = useState(0);\r\n\r\n    const [userGoogleId, setUserGoogleId] = useState(null);\r\n    const [topicId, setTopicId] = useState(null);\r\n\r\n    const [topic, setTopic] = useState({});\r\n    const [topicReports, setTopicReports] = useState([]);\r\n\r\n    // fetching the details of a topic before rendering\r\n    useEffect(() => {\r\n\r\n        // getting the url parameters        \r\n        const userid = params.userId;\r\n        const topicid = params.topicId;\r\n        \r\n        if(userid !== undefined && topicid !== undefined) {\r\n            setUserGoogleId(userid);\r\n            setTopicId(topicid);\r\n            getTopicDetails(userid, topicid);\r\n        }\r\n        else {\r\n            history.push(\"/\");\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [params]);\r\n\r\n\r\n    useEffect(() => {\r\n        const page = new URLSearchParams(history.location.search).get(\"page\");\r\n        setTopicPage(page);        \r\n        // eslint-disable-next-line\r\n    }, [history.location.search]);\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n     \r\n    function closeModal(){\r\n        setIsOpen(false);\r\n    }\r\n\r\n    const getTopicDetails = (userGoogleId, topicId) => {\r\n        db.ref(`topics/${userGoogleId}/${topicId}`).on(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                props.setTopicName(snapshot.val().topicName);\r\n                setTopic(snapshot.val());\r\n                getTopicReports(topicId);\r\n                setIsLoading(false);    \r\n            }\r\n            else {\r\n                setTopicExists(false);\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    const getTopicReports = (topicId) => {\r\n        db.ref(`reports/${topicId}`).on(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                setTopicReports(Object.values(snapshot.val()));\r\n            }\r\n            else\r\n            {\r\n                setTopicReports([]);\r\n            }\r\n        });\r\n    }\r\n\r\n    // deleting one topic from db, then going back to homepage\r\n    const deleteTopic = () => {\r\n        db.ref(`topics/${userGoogleId}/${topicId}`).remove().then(() => history.push(\"/\"));\r\n    }\r\n\r\n    const DeleteTopicModal = () => {\r\n        return(\r\n            <Modal\r\n                isOpen={modalIsOpen}\r\n                onRequestClose={closeModal}\r\n                className=\"delete-topic__modal\"\r\n            >\r\n                <img \r\n                    src={CancelIcon} \r\n                    alt=\"cancel\"\r\n                    className=\"modal__cancel-icon\"\r\n                    onClick={closeModal}\r\n                />\r\n                <div className=\"delete-topic__title\">{strings.topic.deleteModal.title}</div>\r\n                <div className=\"delete-topic__button-holder\">\r\n                    <button className=\"delete-topic__button\" onClick={deleteTopic}>{strings.topic.deleteModal.deleteButtonText}</button>\r\n                    <button  className=\"delete-topic__button\" onClick={closeModal}>{strings.topic.deleteModal.cancelButtonText}</button>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    const ReportsTable = () => {\r\n        if(topicPage == 0 && topicReports.length > 0) {\r\n            return(\r\n                <Reports reports={topicReports} />\r\n            );\r\n        }\r\n        if(topicPage == 0 && topicReports.length == 0) {\r\n            return(\r\n                <h1 className=\"topic__no-reports\">{strings.topic.noReports}</h1>\r\n            );\r\n        }\r\n        if(topicPage == 1) {\r\n            return(\r\n                <div></div>\r\n            );\r\n        }\r\n    }\r\n\r\n    const DeleteTopicButton = () => {\r\n        <button \r\n            type=\"submit\" \r\n            className=\"delete-topic__button\"\r\n            onClick={openModal}\r\n        >\r\n        <img className=\"trash-icon\" alt=\"trash-icon\" src={DeleteIcon} />\r\n            {strings.topic.deleteButtonText}\r\n        </button>\r\n    }\r\n\r\n    if(topicExists) {\r\n        return (\r\n            <div className=\"topic-detail\">\r\n                <DeleteTopicModal />\r\n                {topicPage == 0 && (\r\n                    <div>\r\n                        <ul>\r\n                            <li>\r\n                                {strings.topic.reports.reportUrl}: \r\n                                <a \r\n                                    href={topic.reportUrl} \r\n                                    target=\"blank\"\r\n                                    className=\"topic-detail__reportUrl\"\r\n                                >\r\n                                    {topic.reportUrl}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>)}\r\n                {!isLoading && <ReportsTable />}\r\n                {isLoading && <div className=\"topic-loader\"></div>}\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return(\r\n            <div className=\"topic-detail\">\r\n                <h1 className=\"topic-detail__notexists\">{strings.topic.notExistsText}</h1>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default Topic;","E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\SearchBar.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\ImageDropzone.jsx",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\resources\\strings.js",[],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\ReportPage.jsx",["79"],"E:\\Egyetem\\V\\Államvizsga\\feedback\\src\\components\\Reports.jsx",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"80","replacedBy":"84"},{"ruleId":"82","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":120,"column":22,"nodeType":"88","messageId":"89","endLine":120,"endColumn":24},{"ruleId":"86","severity":1,"message":"87","line":125,"column":22,"nodeType":"88","messageId":"89","endLine":125,"endColumn":24},{"ruleId":"86","severity":1,"message":"87","line":125,"column":50,"nodeType":"88","messageId":"89","endLine":125,"endColumn":52},{"ruleId":"86","severity":1,"message":"87","line":130,"column":22,"nodeType":"88","messageId":"89","endLine":130,"endColumn":24},{"ruleId":"90","severity":1,"message":"91","line":137,"column":11,"nodeType":"92","messageId":"93","endLine":137,"endColumn":28},{"ruleId":"86","severity":1,"message":"87","line":152,"column":28,"nodeType":"88","messageId":"89","endLine":152,"endColumn":30},{"ruleId":"90","severity":1,"message":"94","line":5,"column":8,"nodeType":"92","messageId":"93","endLine":5,"endColumn":16},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],["95"],["96"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'DeleteTopicButton' is assigned a value but never used.","Identifier","unusedVar","'firebase' is defined but never used.","no-global-assign","no-unsafe-negation"]